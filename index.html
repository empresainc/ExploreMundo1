<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ExploreMundo - Roteiros de Sonho</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Caveat:wght@700&display=swap" rel="stylesheet">

<style>
    :root {
        /* Tema Padrão (Corporativo) */
        --primary-color: #0a192f;
        --secondary-color: #64ffda;
        --background-color: #f0f2f5;
        --light-background: #ffffff;
        --text-color: #333;
        --light-text-color: #e6f1ff;
        --subtle-text-color: #a8b2d1;
        --shadow: 0 10px 30px -15px rgba(2, 12, 27, 0.7);
        --border-radius: 16px;
        --transition: all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1);
    }
    
    /* Tema de São João */
    body.theme-sao-joao {
        --secondary-color: #ffca42;
        --saojoao-red: #E60000;
        --saojoao-yellow: #FCE205;
        --saojoao-green: #3D9970;
        --saojoao-orange: #FF8C00;
    }

    /* RESET E CONFIGURAÇÕES GLOBAIS */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
        font-family: 'Poppins', sans-serif;
        background-color: var(--primary-color);
        color: var(--text-color);
        overflow-x: hidden;
        /* <-- CORRIGIDO: Cursor padrão sempre visível --> */
        cursor: default; 
    }
    body.loaded { background-color: var(--background-color); }
    body.no-scroll { overflow-y: hidden; }

    /* PRELOADER */
    .preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--primary-color); display: flex; justify-content: center; align-items: center; z-index: 9999; transition: opacity 0.8s ease-in-out; }
    .preloader .logo { font-size: 2rem; font-weight: 700; color: var(--secondary-color); opacity: 0; animation: pulse 1.5s infinite ease-in-out; }
    @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(0.95); } }

    /* CURSOR DE AVIÃO PERSONALIZADO */
    .custom-cursor { 
        width: 40px; height: 40px; 
        position: fixed; 
        transform: translate(-50%, -50%); 
        pointer-events: none; /* <-- Essencial para não bloquear cliques */
        transition: transform 0.2s ease-out; 
        z-index: 9998; 
    }
    .cursor-plane { width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: center; transition: opacity 0.3s ease; }
    .cursor-plane.corporate { background-image: url('data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNjRmZmRhIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZzIvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yMSAxNlYxNEwxNCA5VjMuNUMxNCAyLjY3IDEzLjMzIDIgMTIuNSAyQzkuMDMgMiA2LjEyIDMyYjYgNC44IDYuMTRMMy41IDUuNVYwYzAtLjI4LS4yMi0uNS0uNS0uNXMtLjUuMjItLjUuNXY1LjQ5bDEuNCAxLjQxQzQuMTQgNy41IDQgOC4yMiA0IDlWMTBsMi0xSDZ2MkgzVjE1SDZWMTROMEAxM1YxMUwxMC41IDEyLjVIMThWMTRMMjEgMTZaIi8+PC9zdmc+'); }
    .cursor-plane.sao-joao { background-image: url('data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjZmZjYTQyIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZzIvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yMSAxNlYxNEwxNCA5VjMuNUMxNCAyLjY3IDEzLjMzIDIgMTIuNSAyQzkuMDMgMiA2LjEyIDMyYjYgNC44IDYuMTRMMy41IDUuNVYwYzAtLjI4LS4yMi0uNS0uNS0uNXMtLjUuMjItLjUuNXY1LjQ5bDEuNCAxLjQxQzQuMTQgNy41IDQgOC4yMiA0IDlWMTBsMi0xSDZ2MkgzVjE1SDZWMTROMEAxM1YxMUwxMC41IDEyLjVIMThWMTRMMjEgMTZaIi8+PC9zdmc+'); }
    body.theme-sao-joao .cursor-plane.corporate, body:not(.theme-sao-joao) .cursor-plane.sao-joao { opacity: 0; }
    body:not(.theme-sao-joao) .cursor-plane.corporate, body.theme-sao-joao .cursor-plane.sao-joao { opacity: 1; }
    a:hover, button:hover { cursor: pointer; } /* Garante que o cursor mude para ponteiro */

    /* CABEÇALHO E NAVEGAÇÃO */
    .hero { height: 100vh; position: relative; display: flex; flex-direction: column; justify-content: center; align-items: center; color: var(--light-text-color); text-align: center; overflow: hidden; background-color: var(--primary-color); }
    .hero-background { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; transition: opacity 0.5s ease-in-out; }
    .hero-background.sao-joao { background: linear-gradient(135deg, var(--saojoao-yellow) 0%, var(--saojoao-red) 50%, var(--saojoao-green) 100%); background-size: 200% 200%; animation: saoJoaoBg 15s ease-in-out infinite alternate; }
    .hero-background.corporate { background: rgba(10, 25, 47, 0.5); }
    body.theme-sao-joao .hero-background.corporate, body:not(.theme-sao-joao) .hero-background.sao-joao { opacity: 0; }
    @keyframes saoJoaoBg { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
    #hero-video { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); min-width: 100%; min-height: 100%; width: auto; height: auto; z-index: -2; opacity: 0.1; }
    .hero-content { z-index: 1; }
    .hero h1 { font-size: clamp(3rem, 10vw, 6rem); font-weight: 800; line-height: 1.1; margin-bottom: 1rem; text-shadow: 4px 4px 8px rgba(0,0,0,0.4); color: var(--light-background); }
    .hero h1 .char { display: inline-block; transform: translateY(115px); transition: transform .5s; }
    .hero .subtitle { font-family: 'Caveat', cursive; font-size: clamp(1.5rem, 5vw, 2.5rem); color: var(--secondary-color); margin-bottom: 2.5rem; text-shadow: 2px 2px 5px rgba(0,0,0,0.3); opacity: 0; }
    
    nav { position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; padding: 20px 50px; display: flex; justify-content: space-between; align-items: center; transition: var(--transition); }
    nav.scrolled { background-color: rgba(10, 25, 47, 0.85); backdrop-filter: blur(10px); box-shadow: var(--shadow); padding: 15px 50px; }
    nav .logo { font-weight: 700; color: var(--light-text-color); font-size: 1.5rem; text-decoration: none; }
    nav a:hover { color: var(--secondary-color); }
    #theme-toggle { background: none; border: 1px solid var(--secondary-color); color: var(--secondary-color); padding: 8px 15px; border-radius: 20px; transition: var(--transition); }
    #theme-toggle:hover { background: var(--secondary-color); color: var(--primary-color); }

    /* ANIMAÇÕES SÃO JOÃO */
    .sao-joao-decorations { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; opacity: 0; transition: opacity 0.5s ease; }
    body.theme-sao-joao .sao-joao-decorations { opacity: 1; }
    .baloon { position: absolute; font-size: 2.5rem; animation: floatUp 20s linear infinite; }
    @keyframes floatUp { 0% { transform: translateY(100vh) rotate(0deg); opacity: 0.8; } 100% { transform: translateY(-100px) rotate(720deg); opacity: 0; } }

    /* ESTILOS GERAIS */
    main { background-color: var(--background-color); position: relative; }
    section { padding: 120px 20px; max-width: 1200px; margin: 0 auto; }
    .section-title { text-align: center; font-size: 2.8rem; font-weight: 700; margin-bottom: 15px; color: var(--primary-color); }
    .section-subtitle { text-align: center; font-size: 1.2rem; max-width: 700px; margin: 0 auto 80px auto; color: #555; }
    .cta-button { background: var(--secondary-color); color: var(--primary-color); text-decoration: none; padding: 18px 40px; border-radius: 50px; font-weight: 700; display: inline-block; transition: var(--transition); box-shadow: 0 4px 15px rgba(0,0,0,0.2); border: none; font-size: 1rem; }
    .cta-button:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }

    /* SEÇÃO PACOTES com brilho RGB */
    @keyframes rotate-hue { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }
    .plans-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 40px; }
    .plan-card { position: relative; background-color: var(--light-background); border-radius: var(--border-radius); padding: 40px; text-align: center; border: 1px solid #eee; transition: all 0.3s ease; display: flex; flex-direction: column; overflow: hidden; }
    .plan-card::before, .plan-card::after { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: conic-gradient(from 180deg at 50% 50%, #e60073, #33ccff, #ffcc00, #00ff66, #e60073); z-index: 0; animation: rotate-hue 6s linear infinite; opacity: 0; transition: opacity 0.3s ease; }
    .plan-card::after { filter: blur(25px); }
    .plan-card:hover::before, .plan-card:hover::after { opacity: 1; }
    .plan-card .plan-content-wrapper { position: relative; z-index: 1; background: var(--light-background); border-radius: calc(var(--border-radius) - 2px); height: 100%; display: flex; flex-direction: column; padding: 38px; margin: -38px; }
    .plan-card:hover { transform: translateY(-10px); box-shadow: var(--shadow); }
    .plan-card ul li svg { fill: var(--secondary-color); }
    /* Conteúdo dos cards (preço, botões, parceiros etc.) */
    .plan-card-content { flex-grow: 1; }
    .plan-price { font-size: 2.5rem; font-weight: 700; color: var(--primary-color); margin-bottom: 25px; }
    .promo-button { background-color: var(--secondary-color); color: var(--primary-color); padding: 12px 25px; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; margin-top: 15px; }
    body.theme-sao-joao .promo-button { background: var(--saojoao-orange); color: white; }
    .partner-section { border-top: 1px solid #eee; padding-top: 20px; margin-top: auto; }
    .partner-logos { display: flex; justify-content: center; align-items: center; gap: 20px; min-height: 40px; }
    .partner-logos img { max-height: 35px; filter: grayscale(100%); transition: var(--transition); }
    .plan-card:hover .partner-logos img { filter: none; }
    
    /* NOVA SEÇÃO: FEEDBACK e FAQ */
    #feedback-section { background-color: var(--light-background); }
    .feedback-container { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: flex-start; }
    .faq-item { margin-bottom: 15px; border: 1px solid #e0e0e0; border-radius: 8px; overflow: hidden; }
    .faq-question { width: 100%; background: none; border: none; text-align: left; padding: 20px; font-size: 1.1rem; font-weight: 600; color: var(--primary-color); display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
    .faq-question::after { content: '+'; font-size: 1.5rem; transition: transform 0.3s ease; }
    .faq-question.active::after { transform: rotate(45deg); }
    .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease; }
    .faq-answer p { padding: 0 20px 20px; line-height: 1.6; }
    
    /* MODAL */
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); z-index: 1001; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
    .modal-overlay.active { opacity: 1; pointer-events: all; }
    .modal-content { background: var(--light-background); color: var(--text-color); border-radius: var(--border-radius); padding: 40px; width: 90%; max-width: 500px; text-align: center; transform: scale(0.9); transition: transform 0.3s ease; position: relative; }
    .modal-overlay.active .modal-content { transform: scale(1); }
    .modal-close { position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #aaa; }

    footer { background-color: var(--primary-color); color: var(--subtle-text-color); text-align: center; padding: 50px 20px; position: relative; overflow: hidden; }
</style>
</head>
<body class="no-scroll">

<div class="preloader"><div class="logo">ExploreMundo</div></div>
<div class="custom-cursor">
    <div class="cursor-plane corporate"></div>
    <div class="cursor-plane sao-joao"></div>
</div>

<div class="sao-joao-decorations">
    <!-- Balões serão criados via JS -->
</div>

<div id="promo-modal" class="modal-overlay">
    <div class="modal-content"><button class="modal-close" onclick="closeModal()">×</button><div id="modal-body"></div></div>
</div>

<header class="hero">
    <div class="hero-background corporate"></div>
    <div class="hero-background sao-joao"></div>
    <video playsinline autoplay muted loop id="hero-video"><source src="https://assets.mixkit.co/videos/preview/mixkit-flying-through-the-clouds-4027-large.mp4" type="video/mp4"></video>
    
    <nav id="navbar">
        <a href="#" class="logo">ExploreMundo</a>
        <div class="nav-links">
            <a href="#pacotes">Pacotes</a>
            <a href="#feedback-section">Feedback</a>
            <a href="#admin">Admin</a>
        </div>
        <div class="theme-switcher">
            <button id="theme-toggle">Mudar Tema</button>
        </div>
    </nav>
    <div class="hero-content">
        <h1 class="main-title">O Mundo à sua Espera!</h1>
        <p class="subtitle">Roteiros exclusivos para as viagens da sua vida.</p>
        <a href="#pacotes" class="cta-button">Ver Pacotes</a>
    </div>
</header>

<main id="main-content">
    <section id="pacotes">
        <h2 class="section-title">Pacotes Exclusivos</h2>
        <p class="section-subtitle">Descubra nossos roteiros incríveis! Celebre o São João com um desconto especial.</p>
        <div class="plans-grid">
            <div class="plan-card">
                <div class="plan-content-wrapper">
                    <div class="plan-card-content">
                        <h3>Aventura</h3>
                        <div class="plan-price">€1.999 <span>/ pessoa</span></div>
                        <button class="promo-button" onclick="applyDiscount('Aventura', 1999)">Ver Desconto São João!</button>
                        <ul><li><svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/></svg>Roteiro Otimizado</li><li><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>Hospedagem Confortável</li></ul>
                    </div>
                    <div class="partner-section">
                        <h4>Parceiro Aéreo</h4>
                        <div class="partner-logos"><img src="https://logodownload.org/wp-content/uploads/2019/12/tap-air-portugal-logo-1.png" alt="TAP Logo"></div>
                    </div>
                </div>
            </div>
            <div class="plan-card">
                <div class="plan-content-wrapper">
                    <div class="plan-card-content">
                        <h3>Descoberta</h3>
                        <div class="plan-price">€6.999 <span>/ pessoa</span></div>
                        <button class="promo-button" onclick="applyDiscount('Descoberta', 6999)">Ver Desconto São João!</button>
                        <ul><li><svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/></svg>Roteiro Personalizado</li><li><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>Hospedagem Superior</li></ul>
                    </div>
                    <div class="partner-section">
                        <h4>Parceiro Aéreo</h4>
                        <div class="partner-logos"><img src="https://logodownload.org/wp-content/uploads/2019/12/tap-air-portugal-logo-1.png" alt="TAP Logo"></div>
                    </div>
                </div>
            </div>
            <div class="plan-card">
                 <div class="plan-content-wrapper">
                    <div class="plan-card-content">
                        <h3>Executivo</h3>
                        <div class="plan-price">€7.999 <span>/ pessoa</span></div>
                        <button class="promo-button" onclick="applyDiscount('Executivo', 7999)">Ver Desconto São João!</button>
                        <ul><li><svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/></svg>Roteiro Exclusivo</li><li><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>Hospedagem de Luxo</li></ul>
                    </div>
                    <div class="partner-section">
                        <h4>Parceiros Premium</h4>
                        <div class="partner-logos"><img src="https://logodownload.org/wp-content/uploads/2019/12/tap-air-portugal-logo-1.png" alt="TAP Logo"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/Logo_de_Marriott_International.svg/2560px-Logo_de_Marriott_International.svg.png" alt="Marriott Logo"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="feedback-section">
        <h2 class="section-title">Feedback e Perguntas</h2>
        <p class="section-subtitle">Sua opinião é valiosa. Deixe sua mensagem ou consulte nossas perguntas frequentes.</p>
        <div class="feedback-container">
            <div class="form-container">
                <h3>Deixe sua Mensagem</h3>
                <form id="contactForm" style="display: grid; gap: 20px;">
                    <input type="text" name="name" placeholder="Seu Nome" required>
                    <input type="email" name="email" placeholder="Seu E-mail" required>
                    <textarea name="message" rows="5" placeholder="Sua mensagem, dúvida ou sugestão..." required></textarea>
                    <button type="submit" class="cta-button" style="justify-self: start;">Enviar Feedback</button>
                </form>
            </div>
            <div class="faq-container">
                <h3>Perguntas Frequentes</h3>
                <div class="faq-item">
                    <button class="faq-question">Como funciona o desconto de São João?</button>
                    <div class="faq-answer"><p>Basta clicar no botão "Ver Desconto São João" em qualquer um dos nossos pacotes. Um código promocional será revelado para ser usado na finalização da sua compra, garantindo um desconto de €200.</p></div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">Os roteiros são personalizáveis?</button>
                    <div class="faq-answer"><p>Sim! Os pacotes "Descoberta" e "Executivo" incluem personalização completa do roteiro. O pacote "Aventura" é otimizado, mas podemos ajustar detalhes mediante consulta.</p></div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">Quais são as formas de pagamento?</button>
                    <div class="faq-answer"><p>Aceitamos as principais bandeiras de cartão de crédito, transferência bancária e soluções de pagamento online como PayPal. Entre em contato para opções de parcelamento.</p></div>
                </div>
            </div>
        </div>
    </section>

</main>
<footer>
    <p>© 2025 ExploreMundo. Roteiros Exclusivos.</p>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const body = document.body;
    const preloader = document.querySelector('.preloader');
    const cursor = document.querySelector('.custom-cursor');
    const themeToggle = document.getElementById('theme-toggle');

    gsap.registerPlugin(ScrollTrigger);

    // Lógica de Temas
    const savedTheme = localStorage.getItem('theme') || 'theme-sao-joao';
    body.classList.add(savedTheme);
    themeToggle.addEventListener('click', () => {
        const isSaoJoao = body.classList.toggle('theme-sao-joao');
        localStorage.setItem('theme', isSaoJoao ? 'theme-sao-joao' : 'theme-corporate');
        createBalloons(); // Recria balões para o tema correto
    });

    // LÓGICA DO PRELOADER
    window.addEventListener('load', () => {
        gsap.to(preloader, {
            opacity: 0, duration: 1, delay: 0.5,
            onComplete: () => {
                preloader.style.display = 'none';
                body.classList.remove('no-scroll');
                body.classList.add('loaded');
                animatePageIn();
                createBalloons();
            }
        });
    });

    // LÓGICA DO CURSOR
    let mouseX = 0, mouseY = 0, posX = 0, posY = 0;
    gsap.set(cursor, { xPercent: -50, yPercent: -50, rotation: -45 });
    window.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; });
    gsap.to({}, 0.016, {
        repeat: -1,
        onRepeat: () => {
            posX += (mouseX - posX) / 6; posY += (mouseY - posY) / 6;
            gsap.set(cursor, { x: posX, y: posY });
        }
    });

    // ANIMAÇÕES
    function animatePageIn() {
        const mainTitle = document.querySelector('.main-title');
        const chars = mainTitle.textContent.split('');
        mainTitle.innerHTML = '';
        chars.forEach(char => { mainTitle.innerHTML += `<span class="char">${char === ' ' ? ' ' : char}</span>`; });
        
        gsap.timeline()
            .to('.char', { y: 0, stagger: 0.05, delay: 0.2, duration: 1, ease: 'expo.out' })
            .to('.hero .subtitle, .hero .cta-button', { opacity: 1, y: 0, duration: 1, stagger: 0.1, ease: 'power3.out' }, "-=0.8");
    }
    gsap.from('nav', { y: -100, opacity: 0, duration: 1, delay: 1.5, ease: 'power3.out' });
    window.addEventListener('scroll', () => document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 50));
    
    gsap.utils.toArray('section').forEach(section => {
      gsap.from(section.children, {
        y: 50, opacity: 0, stagger: 0.1, duration: 0.8, ease: 'power3.out',
        scrollTrigger: { trigger: section, start: 'top 80%' }
      });
    });
    
    // ANIMAÇÃO DE BALÕES DE SÃO JOÃO
    function createBalloons() {
        const container = document.querySelector('.sao-joao-decorations');
        container.innerHTML = ''; // Limpa balões existentes
        if (!body.classList.contains('theme-sao-joao')) return;
        
        for (let i = 0; i < 10; i++) {
            const baloon = document.createElement('div');
            baloon.className = 'baloon';
            baloon.innerHTML = ''; // Emoji de balão
            baloon.style.left = `${Math.random() * 100}vw`;
            baloon.style.animationDuration = `${Math.random() * 10 + 15}s`;
            baloon.style.animationDelay = `${Math.random() * 5}s`;
            baloon.style.color = ['#E60000', '#FCE205', '#3D9970', '#007bff'][Math.floor(Math.random() * 4)];
            container.appendChild(baloon);
        }
    }

    // Lógica do FAQ
    document.querySelectorAll('.faq-question').forEach(button => {
        button.addEventListener('click', () => {
            const answer = button.nextElementSibling;
            button.classList.toggle('active');
            if(button.classList.contains('active')){
                answer.style.maxHeight = answer.scrollHeight + "px";
            } else {
                answer.style.maxHeight = 0;
            }
        });
    });

    // Lógica do Modal e Confete
    const modal = document.getElementById('promo-modal');
    window.closeModal = () => modal.classList.remove('active');
    modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

    window.applyDiscount = (packageName, originalPrice) => {
        const discountAmount = 200;
        const finalPrice = originalPrice - discountAmount;
        document.getElementById('modal-body').innerHTML = `
            <h3>Desconto de São João!</h3>
            <p>Você ativou a oferta para o pacote <strong>${packageName}</strong>!</p>
            <div style="margin: 20px 0; font-size: 1.2rem;">
                <span style="text-decoration: line-through; color: #999;">Preço Original: €${originalPrice.toLocaleString()}</span><br>
                <span style="font-weight: 700; color: var(--primary-color); font-size: 1.5rem;">Preço Final: €${finalPrice.toLocaleString()}</span>
            </div>
            <p>Use o código no checkout:</p>
            <div style="background: #e9ecef; border: 1px dashed #ccc; padding: 10px 20px; border-radius: 8px; margin: 20px auto; display: inline-block; font-weight: 600;">SAOJOAO2025</div>`;
        modal.classList.add('active');
        createConfetti();
    };

    function createConfetti() {
        const confettiContainer = document.body;
        for (let i = 0; i < 100; i++) {
            const confetti = document.createElement('div');
            confetti.style.position = 'fixed';
            confetti.style.width = `${Math.random() * 10 + 5}px`;
            confetti.style.height = `${Math.random() * 10 + 5}px`;
            confetti.style.left = `${Math.random() * 100}vw`;
            confetti.style.top = `${-20}px`;
            confetti.style.backgroundColor = ['#E60000', '#FCE205', '#3D9970', '#007bff'][Math.floor(Math.random() * 4)];
            confetti.style.zIndex = '1002';
            confettiContainer.appendChild(confetti);

            gsap.to(confetti, {
                y: '110vh', x: `random(-100, 100)`, rotation: `random(360, 720)`,
                duration: `random(3, 6)`, ease: 'power1.out', onComplete: () => confetti.remove()
            });
        }
    }
});
</script>
</body>
</html>
